<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>

html{
    background-image: -webkit-linear-gradient(65deg,purple 50%,white 50%);
    min-height: 1000px;
}
.headdiv{
    margin-left:30%;
    margin-right: 30%;
    height: max-content;
    border: 1px solid black;
    margin-top:2%;
    font-size: 40px;
    text-align: center;
    padding-top: 5px;
    background-color:darkorchid;
    color:white;
}
.div1{
    margin-left:30%;
    margin-right: 30%;
    height: max-content;
    border: 1px solid black;
    margin-top:5%;
    /* width: fit-content; */
    background-color: white;
    box-shadow: 5px 5px 15px 0px;
    border-radius: 9px;
}

ol{
    margin-top: 0px;
}
li{
    /* height: 80px; */
    height: max-content;
    border-bottom: 0px;
    margin-left:-40px;
    /* display: flex; */
    /* background-color: white; */
    /* border: 1px solid black; */
    
}
/* .div3{
    font-size: 40px;
    padding: 10px;
    border: 1px solid black;
    height: 90px;
    padding-left: 100px;
    width: 60%;
    float: right;
    height: 60px;
    
}  */

span{
    /* border: 1px solid black; */
    /* height: 60px; */
    
    /* font-size:calc(90px-10px);  */
    font-size: 40px;
    /* float: right; */
    margin-top:-50px;
    /* margin-top: -30%; */
    /* align-self: center; */
    margin-left: 100px;
    margin-left: 0px;
    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
     /* height: fit-content; */
}
#list_item{
    word-wrap: break-word;
    /* word-break: ; */
    /* border: 1px solid black; */
}

 .chc{
    margin-left:1%; /*-10px;*/
    /* float: left; */
    
    height: 28px;
    /* height: calc(40px-10px); */
    width: 19%;
    align-self: center;
    border-radius: 10px;
    box-shadow: 10px 10px -10px;


 }
 #ip{
    height: 50px;
    margin: 10px;
    width:75%;
    /* border-top:hidden; */
    margin-left: 15px;
    margin-right: -30px;
    margin-bottom: 40px;
    margin-top:-15px;
    border: none;
    border-bottom: 1px solid black;
    text-align: center;
    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    font-size: 130%;
 }
 #ip:focus{
    outline: none;
 }
 .chc:checked+span{
    text-decoration: line-through;
 }
 .hidden_ip{
    width: 10px;
    height: 10px;
 }
 #addbtn{
    float: right;
    border-radius: 50%;
    /* 80px previosuly width n height */
    width: 17%;
    height: 17%;
    margin-bottom: 40px;
    font-size: 50px;
    font-weight: bold;
    background-color: blueviolet;
    color: white;
    margin-top: -110px;
    margin-left: -130px;
    margin-right: 10px;
    /* position: relative; */
    
 }
 /* #addbtn:hover{
    /* opacity: 0.7; */
    
 /* }  */

 #formbtn{
    margin-top:0px;
    margin-bottom: -10px;
    
 }
 .click{
    opacity: 0.5;
    box-shadow: 1px 1px -10px;
 }
</style>
<body>

    <div class="headdiv"><%=day%>, Todo-List</div>
   <div class="div1">
   <ol style="list-style: none">
    
    <% for(var i=0;i<items.length; i++){%>
        <li><input  type="checkbox" onclick="checkfn('<%=items[i]%>')" class="chc" ><span id="list_item"> <%=items[i]%></span></li>
        <!-- document.querySelector("#h").setAttribute('id',i); -->
        <%}%>
    
   </ol>
<form action="/home" method="post">
    <input type="text" id="ipdate" class="hidden_ip" name="ipdate" value="<%=ipdate%>">
    <input type="text" id="user" class="hidden_ip" name="user" value="<%=user%>">
    <input type="text" id="password" class="hidden_ip" name="password" value="<%=password%>">
   <button type="submit" name="btn" id='formbtn' value="btnadditem"></button>
   <button type="submit" name="btn" id="btncheckbox" value="btncheckbox"></button>  <br>
   <input  type="text" id="ip" name="ip" placeholder="Add-Item" >
</form>
<!-- button which is clicked when any item is added,this click is prfrmd bt js code see blw and orm data is submitted to server,now the newly 
inseted item will be insertd into th db because we've posted the form -->
   <button id="addbtn" onclick="click1(addbtn)" >+</button>
   </div>

<script>
    // function db()
    // {
        
        // const  i=0;
    //    var c=('<%=JSON.stringify(items)%>');
        // console.log('<%=dbno%>');
        // for(var i=0;i<'<%=dbno%>';i++)//we're getting json obj so we can nethr parse it nor displayed in th 
        // {
        //     document.querySelector('ol').innerHTML+=<li><input onclick='f2(i)' type='checkbox' class='chc'><span id='i'><%=items[0]%></span></li>";
        //     console.log('hl');
        //     // i++;
        // }
    // }
    function click1(id)
    {
        addbtn.classList.add("click");
        setTimeout(function(){addbtn.classList.remove('click');},80);

        if(ip.value!="" &&ip.value!=" " &&ip.value!='   ')
        {
            // a=document.querySelectorAll('.chc').value;

            // document.querySelector("ol").innerHTML+="<li><input class='chc' type='checkbox' onchange='check(<%=day%>,<%=items[i]%>)' ><span >  "+ip.value+"</span></li>";
            // document.querySelectorAll('li input').value=a;
            formbtn.click();
        }
    }
    function f2(c)
    {
        document.getElementById(c).style.textDecoration="line-through";
    }

    function checkfn(item)
    {
         ip.value=item;
        console.log('fn');
         btncheckbox.click();
         
    }


    

</script>
</body>
</html>